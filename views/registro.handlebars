<main>
    <div class="container mt-3">
        <form action="/registro-pedido" method="POST" class="max-width-custom bg-light p-3 rounded-2" id="form-venda">

            {{#if success_msg}}
            <div id="flash-msg" class="alert alert-success">{{success_msg}}</div>
            {{/if}}

            {{#if error_msg}}
            <div id="flash-msg" class="alert alert-danger">{{error_msg}}</div>
            {{/if}}

            <div class="mb-3">
                <label for="cliente" class="form-label">Nome do Cliente</label>
                <input type="text" class="form-control" id="cliente" name="cliente" required>
            </div>

            <div class="mb-3">
                <label for="endereco" class="form-label">Endereço / Bairro / Ponto de Referência</label>
                <textarea class="form-control" id="endereco" name="endereco" rows="2" required></textarea>
            </div>

            <label>Produto:</label>
            <select id="produto-select" class="form-select mb-3">
                <option value="">Selecione o produto</option>
                {{#each produtos}}
                <option value="{{codigo}}" data-quantidade="{{quantidade}}" data-unidade="{{unidade_medida}}">
                    {{nome}} - Disponível: {{quantidade}} {{unidade_medida}}
                </option>
                {{/each}}
            </select>

            <label>Quantidade:</label>
            <select id="quantidade-select" class="form-select mb-3">
                <option value="">Selecione a quantidade</option>
            </select>


            <!-- Valor total -->
            <div class="mb-3">
                <label for="valor_total" class="form-label">Valor Total (R$)</label>
                <input type="number" step="0.01" class="form-control" id="valor_total" name="valor_total" required>
            </div>

            <!-- Forma de pagamento -->
            <div class="mb-3">
                <label for="pagamento" class="form-label">Forma de Pagamento</label>
                <select class="form-select" id="pagamento" name="forma_pagamento" required>
                    <option selected disabled>Selecione a forma de pagamento</option>
                    <option value="Dinheiro">Dinheiro</option>
                    <option value="Pix">Pix</option>
                    <option value="Cartão">Cartão</option>
                    <option value="Não pago">Não pago ainda</option>
                </select>
            </div>

            <!-- Está pago? -->
            <div class="mb-3">
                <label class="form-label">Pagamento Realizado?</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="pago" id="pagoSim" value="Sim" required>
                    <label class="form-check-label" for="pagoSim">Sim</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="pago" id="pagoNao" value="Não" required>
                    <label class="form-check-label" for="pagoNao">Não</label>
                </div>
            </div>

            <!-- Observações -->
            <div class="mb-3">
                <label for="observacao" class="form-label">Observações</label>
                <textarea class="form-control" id="observacao" name="observacao" rows="2"></textarea>
            </div>

            <!-- Botão imprimir e salvar -->
            <button type="submit" class="btn btn-primary">Salvar</button>

        </form>
    </div>
</main>